<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="2014-08-21-001" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="AndroidVariant"/>
            </not>
        </preConditions>
        <createTable tableName="AndroidVariant">
            <column name="googleKey" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="projectNumber" type="VARCHAR(255)"/>
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-002" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="ChromePackagedAppVariant"/>
            </not>
        </preConditions>
        <createTable tableName="ChromePackagedAppVariant">
            <column name="clientId" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="clientSecret" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="refreshToken" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-003" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="Installation"/>
            </not>
        </preConditions>
        <createTable tableName="Installation">
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="alias" type="VARCHAR(255)"/>
            <column name="deviceToken" type="VARCHAR(4096)"/>
            <column name="deviceType" type="VARCHAR(255)"/>
            <column name="enabled" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="operatingSystem" type="VARCHAR(255)"/>
            <column name="osVersion" type="VARCHAR(255)"/>
            <column name="platform" type="VARCHAR(255)"/>
            <column name="variantID" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-004" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="Installation_categories"/>
            </not>
        </preConditions>
        <createTable tableName="Installation_categories">
            <column name="Installation_id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="categories" type="VARCHAR(255)"/>
        </createTable>
        </changeSet>
    <changeSet id="2014-08-21-004" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="PushApplication"/>
            </not>
        </preConditions>
        <createTable tableName="PushApplication">
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="developer" type="VARCHAR(255)"/>
            <column name="masterSecret" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="pushApplicationID" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-005" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="PushMessageInformation"/>
            </not>
        </preConditions>
        <createTable tableName="PushMessageInformation">
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="clientIdentifier" type="VARCHAR(255)"/>
            <column name="ipAddress" type="VARCHAR(255)"/>
            <column name="pushApplicationId" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="rawJsonMessage" type="VARCHAR(4500)"/>
            <column name="submitDate" type="DATETIME"/>
            <column name="totalReceivers" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-006" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="SimplePushVariant"/>
            </not>
        </preConditions>
        <createTable tableName="SimplePushVariant">
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-007" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="Variant"/>
            </not>
        </preConditions>
        <createTable tableName="Variant">
            <column name="VARIANT_TYPE" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="developer" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="secret" type="VARCHAR(255)"/>
            <column name="type" type="INT"/>
            <column name="variantID" type="VARCHAR(255)"/>
            <column name="variants_id" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-008" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="VariantMetricInformation"/>
            </not>
        </preConditions>
        <createTable tableName="VariantMetricInformation">
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="deliveryStatus" type="BOOLEAN"/>
            <column name="reason" type="VARCHAR(255)"/>
            <column name="receivers" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="variantID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="variantInformations_id" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="2014-08-21-009" author="generated">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="iOSVariant"/>
            </not>
        </preConditions>
        <createTable tableName="iOSVariant">
            <column name="certificate" type="BLOB">
                <constraints nullable="false"/>
            </column>
            <column name="passphrase" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="production" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <include file="pgsql-constraints.xml" relativeToChangelogFile="true"/>
    <include file="mysql-constraints.xml" relativeToChangelogFile="true"/>
</databaseChangeLog>