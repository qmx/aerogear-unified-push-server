<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="001" author="generated">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="REALM_AUDIT_LISTENERS"/>
        </preConditions>
        <renameTable oldTableName="REALM_AUDIT_LISTENERS" newTableName="REALM_EVENTS_LISTENERS"/>
    </changeSet>
    <changeSet id="002" author="generated">
        <preConditions onFail="MARK_RAN">
            <columnExists tableName="REALM" columnName="AUDIT_ENABLED"/>
        </preConditions>
        <renameColumn tableName="REALM" oldColumnName="AUDIT_ENABLED" newColumnName="EVENTS_ENABLED" columnDataType="BIT(1)"/>
    </changeSet>
    <changeSet id="003" author="generated">
        <preConditions onFail="MARK_RAN">
            <columnExists tableName="REALM" columnName="AUDIT_EXPIRATION"/>
        </preConditions>
        <renameColumn tableName="REALM" oldColumnName="AUDIT_EXPIRATION" newColumnName="EVENTS_EXPIRATION" columnDataType="BIGINT(20)"/>
    </changeSet>
</databaseChangeLog>